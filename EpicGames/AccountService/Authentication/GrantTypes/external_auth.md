## Account Service - Auth Grant: external_auth

Login with an External Accounts like Nintendo or Google.

### Body

`external_auth_type`: The Token issued by the external auth provider \
`external_auth_token`: See below

| Type                       | is Internal | is EAS | Login Allowed | Obtaining Token                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| -------------------------- | ----------- | ------ | ------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| google                     | ✅          |        | ✅            | 1. Open the [Google Web Login](https://accounts.google.com/o/oauth2/v2/auth?client_id=81931294547-ict6llss8611g9nglndn2bnln48bo59d.apps.googleusercontent.com&response_type=code&scope=openid&redirect_uri=https://accounts.epicgames.com/OAuthAuthorized) <br/> 2. Use the Google Account you want to login with to Epic Games <br/> 3. Get the `code` from the URL when the Epic Games Error shows up (Must get URL Decoded before using it!)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| google_id_token            | ✅          |        | ✅            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| wegame_rail_session_ticket | ✅          |        |               |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| internal                   | ✅          |        | ✅            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| apple_id_token             | ✅          |        | ✅            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| apple                      | ✅          |        | ✅            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| nintendo                   | ✅          |        | ✅            | 1. Login to [Nintendo](https://accounts.nintendo.com/login) <br/> 2. Get the `NASID` cookie <br/> 3. Request [this URL](https://accounts.nintendo.com/connect/1.0.0/authorize/consent?client_id=1f6a6a4806931686&redirect_uri=https%3A%2F%2Faccounts.epicgames.com%2FOAuthAuthorized&display=popup&state=egs&force_verify=true&scope=openid+user.screenName&response_type=code) with the cookie <br/> 4. Get the `code` from the url params or the `location` header (If you dont follow redirects) <br/><br/> Note 1: You dont need to follow the redirects<br/>Note 2: Logging out of the Nintendo Website invalidates the `NASID`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| nintendo_id_token          | ✅          | ✅     | ✅            | 1. Login to [Nintendo](https://accounts.nintendo.com/login) <br/> 2. Get the `NASID` cookie <br/> 3. Request [this URL](https://accounts.nintendo.com/connect/1.0.0/authorize/consent?client_id=1f6a6a4806931686&redirect_uri=https%3A%2F%2Faccounts.epicgames.com%2FOAuthAuthorized&display=popup&state=egs&force_verify=true&scope=openid+user.screenName&response_type=id_token) with the cookie <br/> 4. Get the `id_token` from the url or the `location` header (If you dont follow redirects) <br/><br/> Note 1: You dont need to follow the redirects<br/>Note 2: Logging out of the Nintendo Website invalidates the `NASID`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| nsa_id_token               | ✅          | ✅     | ✅            | https://github.com/kinnay/NintendoClients/wiki/BAAS-Server#post-100login with an appAuthNToken token for `010025400aece000`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| psn                        | ✅          |        | ✅            | 1. Login to [PlayStation](https://id.sonyentertainmentnetwork.com/id/management_ca/) <br/> 2. Grab your `npsso` cookie from [here](https://ca.account.sony.com/api/v1/ssocookie) <br/> 3. Request [this URL](https://ca.account.sony.com/api/v1/oauth/authorize?client_id=CLIENT_ID&redirect_uri=REDIRECT_URI&response_type=code&scope=psn:s2s) with the cookie, replacing `CLIENT_ID` and `REDIRECT_URI` with the details of the client's PSN configuration. The code will be in both the `X-NP-GRANT-CODE` header and the `code` query paramater of the location header.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| psnToken                   | ✅          | ✅     | ✅            | 1. Login to [PlayStation](https://id.sonyentertainmentnetwork.com/id/management_ca/) <br/> 2. Grab your `npsso` cookie from [here](https://ca.account.sony.com/api/v1/ssocookie) <br/> For `INTERNAL`: <br/> 3. Send an `application/x-www-form-urlencoded` POST request to [this URL](https://auth.api.sonyentertainmentnetwork.com/2.0/oauth/token) with the cookie and a post body of `client_id={CLIENT_ID}&client_secret={CLIENT_SECRET}&grant_type=sso_cookie&scope={ANY_SCOPE}`. <br/> For `EAS`: <br/> 3. Request either [v1](https://ca.account.sony.com/api/v1/oauth/authorize?client_id=CLIENT_ID&redirect_uri=REDIRECT_URI&response_type=code&scope=openid) or [v3](https://ca.account.sony.com/api/authz/v3/oauth/authorize?client_id=CLIENT_ID&redirect_uri=REDIRECT_URI&response_type=code&scope=openid)'s authorize endpoint with the cookie, replacing `CLIENT_ID` and `REDIRECT_URI` with the details of the client's PSN configuration. The code will be in the `code` query paramater of the location header. <br/> 4. Send an `application/x-www-form-urlencoded` POST request to either [v1](https://auth.api.sonyentertainmentnetwork.com/2.0/oauth/token) or [v3](https://ca.account.sony.com/api/authz/v3/oauth/token)'s token endpoint with a post body of `client_id={CLIENT_ID}&client_secret={CLIENT_SECRET}&grant_type=authorization_code&code={CODE}&redirect_uri={REDIRECT_URI}`. The token will be the `id_token` field. |
| ps5                        | ✅          |        | ✅            | 1. Login to [PlayStation](https://id.sonyentertainmentnetwork.com/id/management_ca/) <br/> 2. Grab your `npsso` cookie from [here](https://ca.account.sony.com/api/v1/ssocookie) <br/> 3. Request [this URL](https://ca.account.sony.com/api/authz/v3/oauth/authorize?client_id=CLIENT_ID&redirect_uri=REDIRECT_URI&response_type=code&scope=psn:s2s) with the cookie, replacing `CLIENT_ID` and `REDIRECT_URI` with the details of the client's PSN configuration. The code will be in the `code` query paramater of the location header.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| steam_encrypted_appticket  | ✅          | ✅     | ✅            | https://github.com/DoctorMcKay/node-steam-user#createencryptedappticketappid-userdata-callback                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| steam_openid               | ✅          | ✅     | ✅            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| steam_session_ticket       |             | ✅     | ✅            | https://github.com/DoctorMcKay/node-steam-user/wiki/Steam-App-Auth#createauthsessionticketappid-callback                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| xbl_token                  | ✅          |        | ✅            | Get a user OAuth access token for a Microsoft Azure application with the `consumers` tenant and the `XboxLive.signin` scope.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| xbl_xtoken                 | ✅          | ✅     | ✅            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| xbl                        | ✅          |        | ✅            | 1. Login to Microsoft <br/> 2. Request [this URL](https://login.live.com/oauth20_authorize.srf?client_id=82023151-c27d-4fb5-8551-10c10724a55e&redirect_uri=https%3A%2F%2Faccounts.epicgames.com%2FOAuthAuthorized&state=&scope=xboxlive.signin&service_entity=undefined&force_verify=true&response_type=code&display=popup) but dont follow the redirect <br/> 3. Get the `code` from the `location` header                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| facebook                   | ✅          |        | ✅            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| github                     | ✅          |        |               | 1. Login to [Github](https://github.com/login) <br/> 2. Get the `user_session` cookie <br/> 3. Request [this URL](https://github.com/login/oauth/authorize?client_id=5f5146bcf909bdf47f12&response_type=code) with the cookie <br/> 4. Get the `code` from the url or the `location` header (If you dont follow redirects)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| ubisoft                    | ✅          |        |               | 1. Open the [Link Ubisoft](https://www.epicgames.com/id/link/ubisoft) page and click continue <br/> 2. Login to Ubisoft <br/> 3. Capture the request to https://epicgames.com/id/api/state/:state and get the `code` query paramater                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| twitch                     | ✅          |        |               | 1. Login to [Twitch](https://www.twitch.tv/login) <br/> 2. Open [this Url](http://id.twitch.tv/oauth2/authorize?client_id=saactj7j6kcf5ogqcv4n6zsgx32sy41&redirect_uri=https%3A%2F%2Faccounts.epicgames.com%2FOAuthAuthorized&state=&scope=user_read%20viewing_activity_read&service_entity=undefined&force_verify=true&response_type=code&display=popup) <br/> 3. Accept the Access <br/> 4. Get the `code` query from the URL you have been redirected to                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| vk                         | ✅          |        | ✅            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
